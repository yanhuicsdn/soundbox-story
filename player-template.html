<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å£°å®ç›’ - æˆ‘çš„æ•…äº‹åŒ…</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
        }

        .player-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .story-number {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E8E 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
        }

        .story-title {
            font-size: 20px;
            font-weight: 600;
            color: #2C3E50;
        }

        audio {
            width: 100%;
            margin-top: 15px;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-play {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E8E 100%);
            color: white;
        }

        .btn-play:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #2C3E50;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .playlist {
            margin-top: 30px;
        }

        .playlist-title {
            color: white;
            font-size: 24px;
            margin-bottom: 20px;
        }

        .playlist-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 15px 20px;
            margin-bottom: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .playlist-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .playlist-item.active {
            background: rgba(255, 255, 255, 0.3);
            border-left: 4px solid white;
        }

        .playlist-item .index {
            font-weight: 600;
            margin-right: 15px;
        }

        .playlist-item .title {
            flex: 1;
        }

        .playlist-item .duration {
            font-size: 14px;
            opacity: 0.7;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            opacity: 0.8;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 28px;
            }

            .player-card {
                padding: 20px;
            }

            .story-title {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸµ å£°å®ç›’</h1>
            <p>ç”¨çˆ¸çˆ¸å¦ˆå¦ˆçš„å£°éŸ³ï¼Œè®²æœ€å¥½å¬çš„æ•…äº‹</p>
        </div>

        <!-- å½“å‰æ’­æ”¾ -->
        <div class="player-card">
            <div class="player-header">
                <div class="story-number">ç¬¬ <span id="current-index">1</span> ä¸ªæ•…äº‹</div>
                <div class="story-title" id="current-title">åŠ è½½ä¸­...</div>
            </div>
            <audio id="audio-player" controls>
                <source src="" type="audio/mpeg">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
            </audio>
            <div class="controls">
                <button class="btn btn-play" onclick="togglePlay()">
                    <span id="play-icon">â–¶ï¸ æ’­æ”¾</span>
                </button>
                <button class="btn btn-secondary" onclick="playPrevious()">
                    â®ï¸ ä¸Šä¸€ä¸ª
                </button>
                <button class="btn btn-secondary" onclick="playNext()">
                    â­ï¸ ä¸‹ä¸€ä¸ª
                </button>
                <button class="btn btn-secondary" onclick="toggleAutoPlay()">
                    <span id="autoplay-icon">ğŸ” è¿æ’­ï¼šå…³</span>
                </button>
            </div>
        </div>

        <!-- æ’­æ”¾åˆ—è¡¨ -->
        <div class="playlist">
            <h2 class="playlist-title">ğŸ“š æ•…äº‹åˆ—è¡¨</h2>
            <div id="playlist-items">
                <!-- æ’­æ”¾åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>

        <div class="footer">
            <p>Â© 2024 å£°å®ç›’ - ç”¨ä½ çš„å£°éŸ³ï¼Œç»™å­©å­æœ€å¥½çš„é™ªä¼´</p>
            <p>æ­¤æ’­æ”¾å™¨å¯ç¦»çº¿ä½¿ç”¨ï¼Œå»ºè®®æ”¶è—åˆ°ä¸»å±å¹•</p>
        </div>
    </div>

    <script>
        // æ•…äº‹åˆ—è¡¨é…ç½®
        // TODO: æ ¹æ®å®é™…ç”Ÿæˆçš„æ•…äº‹æ–‡ä»¶ä¿®æ”¹
        const stories = [
            { title: 'å°å…”å­ä¹–ä¹–', duration: '3:45', file: 'story001.mp3' },
            { title: 'ä¸‰åªå°çŒª', duration: '4:20', file: 'story002.mp3' },
            { title: 'å°çº¢å¸½', duration: '5:10', file: 'story003.mp3' },
            { title: 'ç™½é›ªå…¬ä¸»', duration: '6:30', file: 'story004.mp3' },
            { title: 'ç°å§‘å¨˜', duration: '5:45', file: 'story005.mp3' },
            { title: 'ç¡ç¾äºº', duration: '4:55', file: 'story006.mp3' },
            { title: 'é’è›™ç‹å­', duration: '4:15', file: 'story007.mp3' },
            { title: ' Hanselå’ŒGretel', duration: '5:30', file: 'story008.mp3' },
            { title: 'é‡‘å‘å§‘å¨˜', duration: '3:50', file: 'story009.mp3' },
            { title: 'ç‹¼å’Œä¸ƒåªå°å±±ç¾Š', duration: '4:40', file: 'story010.mp3' },
            { title: 'çŒ«å’Œè€é¼ ', duration: '3:35', file: 'story011.mp3' },
            { title: 'ä¹Œé¾Ÿå’Œå…”å­', duration: '3:25', file: 'story012.mp3' }
        ];

        let currentIndex = 0;
        let isPlaying = false;
        let autoPlay = false;

        const audioPlayer = document.getElementById('audio-player');
        const currentTitle = document.getElementById('current-title');
        const currentIndexSpan = document.getElementById('current-index');
        const playIcon = document.getElementById('play-icon');
        const autoplayIcon = document.getElementById('autoplay-icon');
        const playlistItems = document.getElementById('playlist-items');

        // åˆå§‹åŒ–æ’­æ”¾åˆ—è¡¨
        function initPlaylist() {
            playlistItems.innerHTML = '';
            stories.forEach((story, index) => {
                const item = document.createElement('div');
                item.className = 'playlist-item';
                if (index === currentIndex) {
                    item.classList.add('active');
                }
                item.innerHTML = `
                    <span class="index">${index + 1}</span>
                    <span class="title">${story.title}</span>
                    <span class="duration">${story.duration}</span>
                `;
                item.onclick = () => playStory(index);
                playlistItems.appendChild(item);
            });
        }

        // æ’­æ”¾æŒ‡å®šæ•…äº‹
        function playStory(index) {
            if (index < 0 || index >= stories.length) return;

            currentIndex = index;
            const story = stories[currentIndex];

            currentTitle.textContent = story.title;
            currentIndexSpan.textContent = currentIndex + 1;
            audioPlayer.src = story.file;
            audioPlayer.play();
            isPlaying = true;
            updatePlayButton();
            updatePlaylistActive();

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // åˆ‡æ¢æ’­æ”¾/æš‚åœ
        function togglePlay() {
            if (isPlaying) {
                audioPlayer.pause();
            } else {
                if (!audioPlayer.src) {
                    playStory(0);
                } else {
                    audioPlayer.play();
                }
            }
            isPlaying = !isPlaying;
            updatePlayButton();
        }

        // æ›´æ–°æ’­æ”¾æŒ‰é’®
        function updatePlayButton() {
            playIcon.textContent = isPlaying ? 'â¸ï¸ æš‚åœ' : 'â–¶ï¸ æ’­æ”¾';
        }

        // ä¸Šä¸€ä¸ª
        function playPrevious() {
            let newIndex = currentIndex - 1;
            if (newIndex < 0) newIndex = stories.length - 1;
            playStory(newIndex);
        }

        // ä¸‹ä¸€ä¸ª
        function playNext() {
            let newIndex = currentIndex + 1;
            if (newIndex >= stories.length) newIndex = 0;
            playStory(newIndex);
        }

        // åˆ‡æ¢è‡ªåŠ¨è¿æ’­
        function toggleAutoPlay() {
            autoPlay = !autoPlay;
            autoplayIcon.textContent = autoPlay ? 'ğŸ” è¿æ’­ï¼šå¼€' : 'ğŸ” è¿æ’­ï¼šå…³';
        }

        // æ›´æ–°æ’­æ”¾åˆ—è¡¨æ¿€æ´»çŠ¶æ€
        function updatePlaylistActive() {
            const items = playlistItems.querySelectorAll('.playlist-item');
            items.forEach((item, index) => {
                if (index === currentIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // éŸ³é¢‘æ’­æ”¾äº‹ä»¶
        audioPlayer.addEventListener('play', () => {
            isPlaying = true;
            updatePlayButton();
        });

        audioPlayer.addEventListener('pause', () => {
            isPlaying = false;
            updatePlayButton();
        });

        // éŸ³é¢‘æ’­æ”¾ç»“æŸäº‹ä»¶
        audioPlayer.addEventListener('ended', () => {
            if (autoPlay) {
                playNext();
            }
        });

        // é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                togglePlay();
            } else if (e.code === 'ArrowLeft') {
                playPrevious();
            } else if (e.code === 'ArrowRight') {
                playNext();
            }
        });

        // åˆå§‹åŒ–
        initPlaylist();
    </script>
</body>
</html>
